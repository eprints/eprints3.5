<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE phrases SYSTEM "entities.dtd">
<epp:phrases xmlns="http://www.w3.org/1999/xhtml" xmlns:epp="http://eprints.org/ep3/phrase" xmlns:epc="http://eprints.org/ep3/control" xmlns:epv="http://eprints.org/ep3/view">
  <!-- BOOTSTRAP 5.3 Integration using new XML templating features in EPrints 3.5 -->
  <!-- Toolbar (e.g. key tools) -->
  <epp:phrase id="view:EPrints/ScreenProcessor:render_item_list">
    <ul class="{if (class, class, 'navbar-nav ms-auto')}" id="{if (id, id, 'ep_tm_menu_tools')">
      <epc:foreach expr="entries" iterator="entry">
        <li class="nav-item">
          <epc:if test="$entry{class}">
            <epc:attribute name="class">
              <epc:print expr="$entry{class}"/>
            </epc:attribute>
          </epc:if>
          <epc:print expr="$entry{item}"/>
        </li>
      </epc:foreach>
    </ul>
  </epp:phrase>
  <!-- Action links (e.g. links in keytools) -->
  <epp:phrase id="view:EPrints/Plugin/ScreenProcessor:render_action_link">
    <a href="{uri}" class="{if (class, class, 'nav-link text-black')}">
      <epc:foreach expr="opts" iterator="attr">
        <epc:attribute name="{$attr{name}}">
          <epc:print expr="$attr{value}"/>
        </epc:attribute>
      </epc:foreach>
      <epc:print expr="title"/>
    </a>
  </epp:phrase>
  <!-- Logged in as (e.g. keytools) -->
  <epp:phrase id="view:EPrints/Plugin/Screen/Login:render_title">
    <span class="nav-link text-black">
      <epc:phrase ref="Plugin/Screen/Login:title:logged_in">
        <epc:param name="user">
          <epc:print expr="user"/>
        </epc:param>
      </epc:phrase>
    </span>
  </epp:phrase>
  <!-- DataSets screen ("Manage records") -->
  <epp:phrase id="view:EPrints/Plugin/Screen/DataSets:render">
    <epc:if test="has_intro">
      <div class="ep_toolbox">
        <div class="ep_toolbox_content">
          <epc:phrase ref="Plugin/Screen/DataSets:intro"/>
        </div>
      </div>
    </epc:if>
    <table class="ep_datasets_table">
      <epc:foreach expr="datasets" iterator="dataset">
        <tr>
          <th valign="top" class="ep_row"><a href="{$dataset{href}}"><epc:print expr="$dataset{label}"/></a>:
        </th>
          <td valign="top" class="ep_row">
            <epc:phrase ref="datasethelp_{$dataset{id}}"/>
          </td>
        </tr>
      </epc:foreach>
    </table>
  </epp:phrase>
  <!-- Items screen ("Manage deposits") -->
  <epp:phrase id="view:EPrints/Plugin/Screen/Items:render_items/item_filters">
    <div class="ep_items_filters">
      <foreach expr="filters" iterator="filter">
        <a class="ep_items_filters_{$filter{id}}" href="{$filter{url}}">
          <epc:choose>
            <epc:when test="$filter{active}">
              <img src="{$config{rel_path}}/style/images/checkbox_tick.png" alt="Showing"/>
            </epc:when>
            <epc:otherwise>
              <img src="{$config{rel_path}}/style/images/checkbox_empty.png" alt="Not showing"/>
            </epc:otherwise>
          </epc:choose>
          <epc:whitespace empty="preserve"> </epc:whitespace>
          <epc:phrase ref="eprint_fieldopt_eprint_status_{$filter{id}}"/>
        </a>
      </foreach>
    </div>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Paginate/Columns:paginate_list/container">
    <table class="ep_columns" border="0" cellpadding="4" cellspacing="0">
      <tr class="header_plain">
        <epc:foreach expr="headings" iterator="heading">
          <th style="padding: 0px" class="ep_columns_title {if ($heading{last}, 'ep_columns_title_last')}">
            <epc:choose>
              <epc:when test="$heading{actions}">
                <span style="padding: 4px;">
                  <epc:phrase ref="general:actions_column_name"/>
                </span>
              </epc:when>
              <epc:otherwise>
                <div class="ep_columns_title_inner">
                  <div>
                    <div>
                      <a href="{$heading{linkurl}}&amp;link=name" style="display: block; padding: 4px">
                        <epc:print expr="$heading{label}"/>
                      </a>
                    </div>
                    <epc:if test="$heading{sorted}.one_of('ascending', 'descending')">
                      <div class="ep_columns_title_inner_sort">
                        <epv:link uri="{$heading{linkurl}}&amp;link=icon">
                          <epc:choose>
                            <epc:when test="$heading{sorted} = 'ascending'">
                              <img alt="Up" src="{$config{rel_path}}/style/images/sorting_up_arrow.gif"/>
                            </epc:when>
                            <epc:when test="$heading{sorted} = 'descending'">
                              <img alt="Down" src="{$config{rel_path}}/style/images/sorting_down_arrow.gif"/>
                            </epc:when>
                          </epc:choose>
                        </epv:link>
                      </div>
                    </epc:if>
                  </div>
                </div>
              </epc:otherwise>
            </epc:choose>
          </th>
        </epc:foreach>
      </tr>
    </table>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Paginate/Columns:paginate_list/no_items">
    <tr>
      <td class="ep_columns_no_items" colspan="{column_count}">
        <epc:print expr="message"/>
      </td>
    </tr>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Paginate:infinite_search_list/controls">
    <epc:if test="n_results lt 1">
      <div class="mb-3 ms-3">
        <epc:phrase ref="lib/searchexpression:noresults"/>
      </div>
    </epc:if>
    <epc:if test="n_results gt 1">
      <div class="mb-3 ms-3">
        <epc:phrase ref="lib/searchexpression:results_only">
          <epc:param name="n">
            <span class="ep_search_number">
              <epc:print expr="n_results"/>
            </span>
          </epc:param>
        </epc:phrase>
      </div>
    </epc:if>
    <div class="accordion mb-3" id="accordionResults">
      <div class="accordion-item">
        <h2 class="accordion-header" id="resultsOptions">
          <button class="accordion-button bg-light" type="button" data-bs-toggle="collapse" data-bs-target="#collapseResults" aria-expanded="true" aria-controls="collapseResults">
            <h6 class="m-0">
              <strong>
                <epc:phrase ref="lib/searchexpression:results_only:title"/>
              </strong>
            </h6>
          </button>
        </h2>
        <div id="collapseResults" class="accordion-collapse collapse show" aria-labelledby="resultsOptions" data-bs-parent="#accordionResults">
          <div class="accordion-body">
            <div class="d-flex ep_search_control">
              <div class="btn-group h-100 m-2">
                <epc:foreach expr="control_links" iterator="control_link">
                  <epc:choose>
                    <epc:when test="$control_link{type} = 'before'">
                      <epv:link class="btn btn-sm btn-outline-primary" uri="{$control_link{url}}">
                        <epc:print expr="$control_link{label}"/>
                      </epv:link>
                    </epc:when>
                  </epc:choose>
                </epc:foreach>
              </div>
              <epc:foreach expr="control_links" iterator="control_link">
                <epc:choose>
                  <epc:when test="$control_link{type} = 'next'">
                    <epv:link class="ep_next ep_hide infinite_scroll" uri="{$control_link{url}}">
                      <epc:phrase ref="lib/searchexpression:next"/>
                    </epv:link>
                  </epc:when>
                </epc:choose>
              </epc:foreach>
              <epc:if test="controls_after">
                <epc:print expr="controls_after"/>
              </epc:if>
            </div>
          </div>
        </div>
      </div>
    </div>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Paginate:paginate_list/controls">
    <div class="border rounded p-3 mb-3">
      <epc:if test="has_main_controls">
        <div class="d-flex justify-content-center gap-1">
          <epc:choose>
            <epc:when test="n_results gt 0">
              <epc:phrase ref="lib/searchexpression:results">
                <epc:param name="from">
                  <span class="ep_search_number">
                    <epc:print expr="from"/>
                  </span>
                </epc:param>
                <epc:param name="to">
                  <span class="ep_search_number">
                    <epc:print expr="to"/>
                  </span>
                </epc:param>
                <epc:param name="n">
                  <span class="ep_search_number">
                    <epc:print expr="n_results"/>
                  </span>
                </epc:param>
              </epc:phrase>
              <epc:whitespace empty="preserve"> </epc:whitespace>
              <epc:if test="page_size != ''">
                <epc:phrase ref="lib/searchexpression:results_page_size">
                  <epc:param name="n_10">
                    <epv:link uri="{url}&amp;{basename}page_size=10">10</epv:link>
                  </epc:param>
                  <epc:param name="n_25">
                    <epv:link uri="{url}&amp;{basename}page_size=25">25</epv:link>
                  </epc:param>
                  <epc:param name="n_100">
                    <epv:link uri="{url}&amp;{basename}page_size=100">100</epv:link>
                  </epc:param>
                  <epc:param name="n_all" singleElement="singleElement">
                    <epv:link uri="{url}&amp;{basename}page_size={n_results}"/>
                  </epc:param>
                </epc:phrase>
              </epc:if>
            </epc:when>
            <epc:otherwise>
              <epc:phrase ref="lib/searchexpression:noresults"/>
            </epc:otherwise>
          </epc:choose>
        </div>
        <if test="array_length(control_links) gt 0">
          <br/>
        </if>
        <div class="d-flex pb-3 justify-content-center">
          <epc:foreach expr="control_links" iterator="control_link">
            <epc:if test="$index gt 0">
              <epc:phrase ref="lib/searchexpression:separator"/>
            </epc:if>
            <span class="ep_search_control">
              <epc:choose>
                <epc:when test="$control_link{type} = 'before'">
                  <epv:link uri="{$control_link{url}}">
                    <epc:print expr="$control_link{label}"/>
                  </epv:link>
                </epc:when>
                <epc:when test="$control_link{type} = 'previous'">
                  <epv:link uri="{$control_link{url}}">
                    <epc:phrase ref="lib/searchexpression:prev"/>
                  </epv:link>
                </epc:when>
                <epc:when test="$control_link{type} = 'current'">
                  <strong>
                    <epc:print expr="$control_link{label}"/>
                  </strong>
                </epc:when>
                <epc:when test="$control_link{type} = 'jump'">
                  <epv:link uri="{$control_link{url}}">
                    <epc:print expr="$control_link{label}"/>
                  </epv:link>
                </epc:when>
                <epc:when test="$control_link{type} = 'next'">
                  <epv:link class="ep_next" uri="{$control_link{url}}">
                    <epc:phrase ref="lib/searchexpression:next"/>
                  </epv:link>
                </epc:when>
              </epc:choose>
            </span>
          </epc:foreach>
        </div>
      </epc:if>
      <epc:if test="controls_after">
        <epc:print expr="controls_after"/>
      </epc:if>
    </div>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Paginate:paginate_list/results">
    <epc:if test="rows_before">
      <epc:print expr="rows_before"/>
    </epc:if>
    <epc:foreach expr="rows" iterator="row">
      <epc:choose>
        <epc:when test="$row{as_div}">
          <div class="ep_paginate_result">
            <epc:print expr="$row{render}"/>
          </div>
        </epc:when>
        <epc:otherwise>
          <epc:print expr="$row{render}"/>
        </epc:otherwise>
      </epc:choose>
    </epc:foreach>
    <epc:if test="n_results = 0">
      <epc:print expr="no_results_message"/>
    </epc:if>
    <epc:if test="rows_after">
      <epc:print expr="rows_after"/>
    </epc:if>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Paginate:paginate_list/results_container">
    <epc:choose>
      <epc:when test="container">
        <epc:print expr="container">
          <epc:template ref="view:EPrints/Paginate:paginate_list/results" item="$item"/>
        </epc:print>
      </epc:when>
      <epc:otherwise>
        <div class="ep_paginate_list">
          <epc:template ref="view:EPrints/Paginate:paginate_list/results" item="$item"/>
        </div>
      </epc:otherwise>
    </epc:choose>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Paginate:paginate_list">
    <epc:if test="controls">
      <div class="">
        <epc:print expr="controls"/>
      </div>
    </epc:if>
    <epc:if test="above_results">
      <epc:print expr="above_results"/>
    </epc:if>
    <epc:if test="results">
      <div class="ep_search_results">
        <epc:print expr="results"/>
      </div>
    </epc:if>
    <epc:if test="below_results">
      <epc:print expr="below_results"/>
    </epc:if>
    <epc:if test="controls">
      <epc:if test="n_results gt 0">
        <div class="">
          <epc:print expr="controls"/>
        </div>
      </epc:if>
    </epc:if>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Plugin/Screen/Items:render_items/paginate_list">
    <tr class="row_{if (row_index % 2, 'b', 'a')} {if (locked, 'ep_columns_row_locked')} {if (locked_mine, 'ep_columns_row_locked_mine')} {if (locked_other, 'ep_columns_row_locked_other')}">
      <epc:foreach expr="columns" iterator="column">
        <td class="ep_columns_cell ep_columns_cell_{status} {if ($column{column_index} = 1, 'ep_columns_cell_first')} ep_columns_cell_{$column{column}}">
          <epc:print expr="$column{render_value}"/>
        </td>
      </epc:foreach>
      <td class="ep_columns_cell ep_columns_cell_last" align="left">
        <epc:print expr="action_list_icons"/>
      </td>
    </tr>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Plugin/Screen/Items:render_items/final_row">
    <epc:if test="array_length(columns) gt 0">
      <tr>
        <epc:foreach expr="columns" iterator="column">
          <td class="ep_columns_alter">
            <div class="ep_columns_alter_inner">
              <div>
                <div>
                  <epc:choose>
                    <epc:when test="$column{column_index} gt 0">
                      <epv:form method="post" action="{current_url()}">
                        <epc:print expr="hidden_bits"/>
                        <input type="hidden" name="screen" id="screen" value="{screen}"/>
                        <epc:if test="column_param">
                          <input type="hidden" name="{column_param}" id="{column_param}" value="{$column{column_index}}"/>
                        </epc:if>
                        <input type="image" src="{concat($config{rel_path}, '/style/images/left.png')}" value="{string_phrase('lib/paginate:move_left')}" title="{string_phrase('lib/paginate:move_left')}" alt="&lt;" name="_action_col_left"/>
                      </epv:form>
                    </epc:when>
                    <epc:otherwise>
                      <img src="{$config{rel_path}}/style/images/noicon.png" alt="no icon"/>
                    </epc:otherwise>
                  </epc:choose>
                </div>
                <div>
                  <epv:form method="post" action="{current_url()}">
                    <epc:print expr="hidden_bits"/>
                    <input type="hidden" name="screen" id="screen" value="{screen}"/>
                    <epc:if test="column_param">
                      <input type="hidden" name="{column_param}" id="{column_param}" value="{$column{column_index}}"/>
                    </epc:if>
                    <input type="image" src="{concat($config{rel_path}, '/style/images/delete.png')}" onclick="if( window.event ) {'{'} window.event.cancelBubble = true; {'}'}                               return confirm( {js_string(string_phrase(concat('Plugin/Screen/', screen, ':remove_column_confirm')))} );" value="{string_phrase('lib/paginate:remove_column')}" title="{string_phrase('lib/paginate:remove_column')}" alt="X" name="_action_remove_col"/>
                  </epv:form>
                </div>
                <div>
                  <epc:choose>
                    <epc:when test="$column{column_index} lt (array_length(columns) - 1)">
                      <epv:form method="post" action="{current_url()}">
                        <epc:print expr="hidden_bits"/>
                        <input type="hidden" name="screen" id="screen" value="{screen}"/>
                        <epc:if test="column_param">
                          <input type="hidden" name="{column_param}" id="{column_param}" value="{$column{column_index}}"/>
                        </epc:if>
                        <input type="image" src="{concat($config{rel_path}, '/style/images/right.png')}" value="{string_phrase('lib/paginate:move_right')}" title="{string_phrase('lib/paginate:move_right')}" alt="&gt;" name="_action_col_right"/>
                      </epv:form>
                    </epc:when>
                    <epc:otherwise>
                      <img src="{$config{rel_path}}/style/images/noicon.png" alt="no icon"/>
                    </epc:otherwise>
                  </epc:choose>
                </div>
              </div>
            </div>
          </td>
        </epc:foreach>
        <td class="ep_columns_alter ep_columns_alter_last"/>
      </tr>
    </epc:if>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Plugin/Screen/Items:render_items">
    <epc:print expr="paginated_list"/>
    <div class="ep_columns_add">
      <epv:form method="post" action="{current_url()}">
        <input type="hidden" name="screen" id="screen" value="{screen}"/>
        <label>
          <epc:phrase ref="Plugin/Screen/{screen}:add_label"/>
          <epc:whitespace empty="preserve"> </epc:whitespace>
          <epc:print expr="add_column_option_list"/>
        </label>
        <epv:button value="{string_phrase(concat('Plugin/Screen/', screen, ':add'))}" role="button" name="_action_add_col"/>
      </epv:form>
    </div>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Plugin/Screen/Items:render">
    <epc:if test="has_phrase('Plugin/Screen/Items:intro')">
      <div class="ep_toolbox">
        <div class="ep_toolbox_content">
          <epc:phrase ref="Plugin/Screen/Items:intro"/>
        </div>
      </div>
    </epc:if>
    <epc:if test="has_phrase(help_phrase)">
      <div text-align="left">
        <epv:box id="ep_review_instructions" collapsed="1" show_icon_url="{$config{rel_path}}/style/images/help.svg">
          <epv:title>
            <epc:phrase ref="Plugin/Screen/Items:help_title"/>
          </epv:title>
          <epv:content>
            <epc:phrase ref="{help_phrase}"/>
          </epv:content>
        </epv:box>
      </div>
    </epc:if>
    <epc:print expr="item_tools"/>
    <epc:print expr="import_screen"/>
    <epc:print expr="eprints"/>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Plugin/Screen:action_list_icons">
    <ul class="ep_action_list">
      <epc:foreach expr="columns" iterator="column">
        <li>
          <epc:print expr="$column{icon}"/>
        </li>
      </epc:foreach>
    </ul>
  </epp:phrase>
  <epp:phrase id="view:EPrints/XHTML:action_list">
    <ul class="ep_action_list" role="toolbar">
      <epc:foreach expr="actions" iterator="action">
        <epv:create_data_element tag="li" expr="$action" role="none"/>
      </epc:foreach>
    </ul>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Plugin/Screen:render_action_list_bar">
    <div class="ep_block">
      <epc:print expr="action_list"/>
    </div>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Plugin/Screen/Listing:render">
    <epc:print expr="top_bar"/>
    <epc:print expr="filters"/>
    <epc:print expr="paginated_list"/>
    <div class="ep_columns_add">
      <epv:form method="post" action="{current_url()}">
        <epc:print expr="hidden_bits"/>
        <label>
          <epc:phrase ref="Plugin/Screen/Listing:add_label"/>
          <epc:whitespace empty="preserve"> </epc:whitespace>
          <epc:print expr="add_column_option_list"/>
        </label>
        <epv:button class="ep_form_action_button" value="{string_phrase(concat('lib/paginate:add_column'))}" name="_action_add_col"/>
      </epv:form>
    </div>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Plugin/Screen/Listing:render/render_result">
    <tr class="row_{if (row_index % 2, 'b', 'a')}">
      <epc:foreach expr="columns" iterator="column">
        <td class="ep_columns_cell {if ($column{column_index} = 1, 'ep_columns_cell_first')} ep_columns_cell_{$column{column}}">
          <epc:print expr="$column{render_value}"/>
        </td>
      </epc:foreach>
      <td class="ep_columns_cell ep_columns_cell_last" align="left">
        <epc:print expr="action_list_icons"/>
      </td>
    </tr>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Plugin/Screen/Listing:render_top_bar">
    <epc:if test="has_intro">
      <div class="ep_toolbox">
        <div class="ep_toolbox_content">
          <epc:print expr="intro"/>
        </div>
      </div>
    </epc:if>
    <epc:print expr="dataobj_tools"/>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Plugin/Screen/Listing:render_filters">
    <div style="text-align: left">
      <epv:box id="ep_listing_search" collapsed="{collapsed}" show_icon_url="{$config{rel_path}}/style/images/help.svg">
        <epv:title>
          <epc:print expr="title"/>
        </epv:title>
        <epv:content>
          <epc:print expr="form"/>
        </epv:content>
      </epv:box>
    </div>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Plugin/Screen/Listing:render_search_form">
    <epv:form method="get" action="{current_url()}">
      <epc:print expr="hidden_bits"/>
      <div class="ep_search_fields">
        <epc:print expr="search_fields"/>
      </div>
      <epc:print expr="controls"/>
    </epv:form>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Plugin/Screen/Listing:render_controls">
    <div class="ep_search_buttons">
      <epc:print expr="search_buttons"/>
    </div>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Plugin/Screen/Listing:render_links">
    <style type="text/css">
    .ep_tm_main {
      width: 90%;
    }
  </style>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Plugin/Screen/Review:render_top_bar">
    <epc:if test="has_editperms">
      <div class="ep_block">
        <epc:print expr="editperms_description"/>
      </div>
    </epc:if>
    <div style="text-align: left">
      <epv:box id="ep_review_instructions" collapsed="1" show_icon_url="{$config{rel_path}}/style/images/help.svg">
        <epv:title>
          <epc:print expr="intro_title"/>
        </epv:title>
        <epv:content>
          <epc:print expr="intro_content"/>
        </epv:content>
      </epv:box>
    </div>
  </epp:phrase>
  <!--
    Note: if there is only one element we still need the table to
    centre-align the input
  -->
  <epp:phrase id="view:MetaField/render_input_field_actual">
    <div class="{if (has_col_titles, 'd-table m-auto', 'd-flex justify-content-center flex-column form-control flex-grow-1')}">
      <epc:if test="has_col_titles">
        <div class="d-table-row">
          <epc:foreach expr="titles" iterator="column">
            <epc:choose>
              <epc:when test="$column{empty_column}">
                <div class="d-table-cell" id="{basename}_th_0"/>
              </epc:when>
              <epc:otherwise>
                <div class="d-table-cell" id="{concat($column{id}, '_label')}">
                  <epc:print expr="$column{title}"/>
                </div>
              </epc:otherwise>
            </epc:choose>
          </epc:foreach>
        </div>
      </epc:if>
      <epc:foreach expr="rows" iterator="row">
        <div class="{if (has_col_titles, 'd-table-row', 'input-group')}">
          <epc:foreach expr="$row{cells}" iterator="cell">
            <div id="{concat(basename, '_cell_', $cell{column_index}, '_', $row{row_index})}">
              <epc:foreach expr="$cell{attrs}" iterator="attr">
                <epc:attribute name="{$attr{name}}">
                  <epc:print expr="$attr{value}"/>
                </epc:attribute>
              </epc:foreach>
              <epc:if test="$cell{column_index} = 0">
                <epc:attribute name="class">
                  <epc:if test="has_col_titles">
					py-1 px-1 d-table-cell align-middle
				</epc:if>
                  <epc:if test="!has_col_titles">
					w-100
                                </epc:if>
                </epc:attribute>
              </epc:if>
              <epc:if test="$cell{column_index} != 0">
                <epc:attribute name="class">py-1 px-1 d-table-cell align-middle</epc:attribute>
              </epc:if>
              <epc:print expr="$cell{item}"/>
            </div>
          </epc:foreach>
        </div>
      </epc:foreach>
    </div>
    <epc:print expr="buttons"/>
    <epc:print expr="javascript"/>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Plugin/Screen/Workflow:render">
    <epc:print expr="status"/>
    <epc:print expr="buttons"/>
    <epc:print expr="tabs"/>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Plugin/Screen/Workflow:render_title">
    <epc:phrase ref="{title_phrase_id}">
      <epc:param name="listing">
        <epc:choose>
          <epc:when test="can_view_dataset">
            <epv:link uri="{dataset_url}">
              <epc:print expr="name"/>
            </epv:link>
          </epc:when>
          <epc:otherwise>
            <epc:print expr="name"/>
          </epc:otherwise>
        </epc:choose>
      </epc:param>
      <epc:param name="desc">
        <epc:print expr="description"/>
      </epc:param>
    </epc:phrase>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Plugin/Screen/Workflow:render_status">
    <div class="ep_block">
      <epv:link uri="{url}">
        <epc:print expr="url"/>
      </epv:link>
    </div>
  </epp:phrase>
  <epp:phrase id="view:EPrints/XHTML:tabs">
    <ul id="{basename}_tabs" class="ep_tab_bar" role="tablist">
      <epc:foreach expr="tabs" iterator="tab">
        <li id="{$tab{tab_id}}" style="width: {$tab{width}}%" role="none">
          <epc:choose>
            <epc:when test="$tab{current}">
              <epc:attribute name="class">ep_tab_selected</epc:attribute>
              <epv:create_data_element class="ep_tab_link" tag="a" href="{$tab{href}}" onclick="{$tab{onclick}}" role="tab" aria-controls="{$tab{tab_id}}" aria-selected="true" tabindex="-1">
                <epc:print expr="$tab{label}"/>
              </epv:create_data_element>
            </epc:when>
            <epc:otherwise>
              <epv:create_data_element class="ep_tab_link" tag="a" href="{$tab{href}}" onclick="{$tab{onclick}}" role="tab" aria-controls="{$tab{tab_id}}" aria-selected="false" tabindex="-1">
                <epc:print expr="$tab{label}"/>
              </epv:create_data_element>
            </epc:otherwise>
          </epc:choose>
        </li>
      </epc:foreach>
    </ul>
    <epc:if test="has_content">
      <div id="{basename}_panels" class="ep_tab_panel" role="tabpanel">
        <epc:foreach expr="tabs" iterator="tab">
          <epc:if test="!$tab{current}">
            <epc:comment>padding for non-javascript enabled browsers</epc:comment>
            <div class="ep_no_js" style="height: 1em"/>
          </epc:if>
          <div id="{$tab{panel_id}}">
            <epc:if test="!$tab{current}">
              <epc:attribute name="class">ep_no_js</epc:attribute>
            </epc:if>
            <epc:print expr="$tab{content}"/>
          </div>
        </epc:foreach>
      </div>
    </epc:if>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Plugin/Screen/Workflow/Details:_render_name_maybe_with_link">
    <epc:choose>
      <epc:when test="url">
        <epv:link uri="{url}">
          <epc:print expr="name"/>
        </epv:link>
      </epc:when>
      <epc:otherwise>
        <epc:print expr="name"/>
      </epc:otherwise>
    </epc:choose>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Plugin/Screen/Workflow/Details:render">
    <table border="0" cellpadding="3" class="ep_view_details_table">
      <epc:foreach expr="sections" iterator="section">
        <tr>
          <th colspan="2" class="ep_title_row" role="banner">
            <epc:choose>
              <epc:when test="$section{title}">
                <div class="ep_title_row_inner">
                  <div>
                    <div class="ep_title">
                      <epc:print expr="$section{title}"/>
                    </div>
                    <epc:if test="edit_ok">
                      <div>
                        <epc:print expr="$section{edit_button}"/>
                      </div>
                    </epc:if>
                  </div>
                </div>
              </epc:when>
              <epc:otherwise>
                <epc:phrase ref="{other_title_phrase}"/>
              </epc:otherwise>
            </epc:choose>
          </th>
        </tr>
        <epc:if test="$section{title}">
          <tr>
            <td colspan="2">
              <epc:print expr="$section{warnings}"/>
            </td>
          </tr>
        </epc:if>
        <epc:foreach expr="$section{rows}" iterator="row">
          <epc:print expr="$row{render_row}"/>
        </epc:foreach>
        <epc:if test="$section{title}">
          <epc:if test="array_length($section{unspec}) gt 0">
            <epv:render_row>
              <epc:phrase ref="lib/dataobj:unspecified"/>
              <span>
                <epc:foreach expr="$section{unspec}" iterator="unspec">
                  <epc:if test="$index gt 0">
                    <epc:whitespace empty="preserve">, </epc:whitespace>
                  </epc:if>
                  <epc:print expr="$unspec{render_name}"/>
                </epc:foreach>
              </span>
            </epv:render_row>
          </epc:if>
        </epc:if>
        <tr>
          <td colspan="2" style="height: 1em"/>
        </tr>
      </epc:foreach>
    </table>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Plugin/Screen/Workflow/Details:render_edit_button">
    <div>
      <epc:print expr="button"/>
    </div>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Plugin/Screen/Workflow/Details:render_stage_warnings">
    <epc:if test="has_problems">
      <epv:render_message type="warning" showicon="1">
        <epv:link_problem_xhtml screenid="Workflow::Edit" newstage="stage">
          <ul>
            <epc:foreach expr="problems" iterator="problem">
              <li>
                <epc:print expr="$problem{problem}"/>
              </li>
            </epc:foreach>
          </ul>
        </epv:link_problem_xhtml>
      </epv:render_message>
    </epc:if>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Repository:render_row">
    <tr class="ep_table_row">
      <th valign="top" class="ep_row ep_table_header">
        <epc:choose>
          <epc:when test="key"><epc:print expr="key"/>:</epc:when>
          <epc:otherwise> </epc:otherwise>
        </epc:choose>
      </th>
      <epc:foreach expr="values" iterator="value">
        <td valign="top" class="ep_row ep_table_data">
          <epc:print expr="$value{value}" passthrough="true"/>
        </td>
      </epc:foreach>
    </tr>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Repository:render_row_with_help">
    <epc:choose>
      <epc:when test="has_help">
        <div id="{help_prefix}" class="{if (has_toggle, 'd-none-not-important')}">
          <div id="{help_prefix}_inner" class="alert alert-primary d-flex align-items-center mb-1 mt-2" role="definition" aria-labelledby="{prefix}_label">
            <epc:print expr="help"/>
          </div>
        </div>
      </epc:when>
    </epc:choose>
    <div class="input-group w-100 mb-3 {class}" data-context="{if (context, context, 'none')}">
      <div class="input-group-text w-25">
        <span id="{prefix}{if (uses_fieldset, '_legend', '')}_label">
          <epc:print expr="label"/>
        </span>
      </div>
      <epc:print expr="field"/>
      <epc:choose>
        <epc:when test="has_toggle">
          <div class="input-group-text ms-auto">
            <div class="ep_sr_show_help ep_only_js" id="{help_prefix}_show">
              <a onclick="EPJS_toggleSlide('{help_prefix}',false,'block');EPJS_toggle('{help_prefix}_hide',false,'block');EPJS_toggle('{help_prefix}_show',true,'block');return false" href="#">
                <img alt="{string_phrase(&quot;lib/session:show_help_alt&quot;)}" title="{string_phrase(&quot;lib/session:show_help_title&quot;)}" src="{string_phrase(&quot;lib/session:show_help_src&quot;)}"/>
              </a>
            </div>
            <div class="ep_sr_hide_help ep_hide" id="{help_prefix}_hide">
              <a onclick="EPJS_toggleSlide('{help_prefix}',false,'block');EPJS_toggle('{help_prefix}_hide',false,'block');EPJS_toggle('{help_prefix}_show',true,'block');return false" href="#">
                <img alt="{string_phrase(&quot;lib/session:hide_help_alt&quot;)}" title="{string_phrase(&quot;lib/session:hide_help_title&quot;)}" src="{string_phrase(&quot;lib/session:hide_help_src&quot;)}"/>
              </a>
            </div>
          </div>
        </epc:when>
        <epc:otherwise>
          <div class="ep_table_cell"/>
        </epc:otherwise>
      </epc:choose>
    </div>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Repository:render_message">
    <!-- Message Types: message (success), warning, error -->
    <div id="{message_id}">
      <epc:choose>
        <epc:when test="type = 'warning'">
          <epc:attribute name="class">alert alert-<epc:print expr="type"/> d-flex align-items-center</epc:attribute>
        </epc:when>
        <epc:when test="type = 'error'">
          <epc:attribute name="class">alert alert-danger d-flex align-items-center</epc:attribute>
        </epc:when>
        <epc:otherwise>
          <epc:attribute name="class">alert alert-success d-flex align-items-center</epc:attribute>
        </epc:otherwise>
      </epc:choose>
      <epc:if test="show_icon">
        <div class="me-3">
          <epc:if test="type = 'warning' or type = 'error'">
            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-exclamation-triangle" viewBox="0 0 16 16">
              <path d="M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.15.15 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.2.2 0 0 1-.054.06.1.1 0 0 1-.066.017H1.146a.1.1 0 0 1-.066-.017.2.2 0 0 1-.054-.06.18.18 0 0 1 .002-.183L7.884 2.073a.15.15 0 0 1 .054-.057m1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767z"/>
              <epc:attribute name="alt">
                <epc:phrase ref="{alt_phrase_id}"/>
              </epc:attribute>
              <path d="M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"/>
            </svg>
          </epc:if>
          <epc:if test="type = 'message'">
            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-check-circle" viewBox="0 0 16 16">
              <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
              <path d="m10.97 4.97-.02.022-3.473 4.425-2.093-2.094a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05"/>
            </svg>
          </epc:if>
        </div>
      </epc:if>
      <div class="">
        <epc:print expr="content"/>
      </div>
    </div>
  </epp:phrase>
  <epp:phrase id="view:Repository:render_option_list/dropdown">
    <select name="{name}{if (readonly, '_disabled')}" id="{name}{if (readonly, '_disabled')}" style="{if (name = 'satisfyall' or name = 'order', '', 'border-radius:unset;')">
      <epc:attribute name="class">
        <epc:print expr="if (multiple, 'form-control', 'btn btn-sm btn-outline-secondary dropdown-toggle')"/>
      </epc:attribute>
      <epc:if test="multiple">
        <epc:attribute name="multiple">multiple</epc:attribute>
      </epc:if>
      <epc:if test="readonly">
        <epc:attribute name="disabled">disabled</epc:attribute>
      </epc:if>
      <epc:if test="onchange ne ''">
        <epc:attribute name="onchange">
          <epc:print expr="onchange"/>
        </epc:attribute>
      </epc:if>
      <epc:if test="aria_labelledby">
        <epc:attribute name="aria-labelledby">
          <epc:print expr="aria_labelledby"/>
        </epc:attribute>
      </epc:if>
      <epc:if test="height">
        <epc:attribute name="size">
          <epc:print expr="size"/>
        </epc:attribute>
      </epc:if>
      <epc:foreach expr="pairs" iterator="pair">
        <epv:render_single_option key="{$pair{key}}" selected="{$pair{selected}}">
          <epc:print expr="$pair{desc}"/>
        </epv:render_single_option>
      </epc:foreach>
    </select>
  </epp:phrase>
  <epp:phrase id="view:Repository:render_option_list">
    <epc:choose>
      <epc:when test="checkbox">
        <fieldset class="form-control">
          <legend id="{name}_label" class="ep_field_legend" aria-labelledby="{name}_legend_label">
            <epc:print expr="legend"/>
          </legend>
          <div class="ep_option_list_row">
            <epc:choose>
              <epc:when test="array_length(pairs) gt 5">
                <div class="ep_option_list_cell">
                  <epc:foreach expr="pairs" iterator="pair">
                    <epc:choose>
                      <epc:when test="$index lt (array_length(pairs) / 2)">
                        <div class="form-check">
                          <epv:render_input_field type="checkbox" name="{name}" value="{$pair{key}}" class="form-check-input" aria-labelledby="{name}_label" onchange="{onchange}" checked="{$pair{selected}}"/>
                          <label class="form-check-label">
                            <epc:print expr="$pair{desc}"/>
                          </label>
                        </div>
                      </epc:when>
                    </epc:choose>
                  </epc:foreach>
                </div>
                <div class="ep_option_list_cell">
                  <epc:foreach expr="pairs" iterator="pair">
                    <epc:choose>
                      <epc:when test="$index lt (array_length(pairs) / 2)">
                    </epc:when>
                      <epc:otherwise>
                        <div class="form-check">
                          <epv:render_input_field type="checkbox" name="{name}" value="{$pair{key}}" class="form-check-input" aria-labelledby="{name}_label" onchange="{onchange}" checked="{$pair{selected}}"/>
                          <label class="form-check-label">
                            <epc:print expr="$pair{desc}"/>
                          </label>
                        </div>
                      </epc:otherwise>
                    </epc:choose>
                  </epc:foreach>
                </div>
              </epc:when>
              <epc:otherwise>
                <div class="ep_option_list_cell">
                  <epc:foreach expr="pairs" iterator="pair">
                    <div class="form-check">
                      <epv:render_input_field type="checkbox" name="{name}" value="{$pair{key}}" class="form-check-input" aria-labelledby="{name}_label" onchange="{onchange}" checked="{$pair{selected}}"/>
                      <label class="form-check-label">
                        <epc:print expr="$pair{desc}"/>
                      </label>
                    </div>
                  </epc:foreach>
                </div>
              </epc:otherwise>
            </epc:choose>
          </div>
        </fieldset>
      </epc:when>
      <epc:otherwise>
        <epc:choose>
          <epc:when test="readonly">
            <span class="ep_set_disabled">
              <epc:foreach expr="pairs" iterator="pair">
                <epc:if test="$pair{selected}">
                  <input name="{name}" id="{name}" type="hidden" value="{$pair{key}}"/>
                </epc:if>
              </epc:foreach>
              <epc:template ref="view:Repository:render_option_list/dropdown" item="$item"/>
            </span>
          </epc:when>
          <epc:otherwise>
            <epc:template ref="view:Repository:render_option_list/dropdown" item="$item"/>
          </epc:otherwise>
        </epc:choose>
      </epc:otherwise>
    </epc:choose>
  </epp:phrase>
  <epp:phrase id="view:Repository:render_single_option">
    <option value="{key}">
      <epc:if test="selected">
        <epc:attribute name="selected">selected</epc:attribute>
      </epc:if>
      <epc:print expr="desc"/>
    </option>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Plugin/Screen/Admin:render">
    <epv:tabs basename="ep_admin_tabs">
      <epc:foreach expr="lists" iterator="list">
        <epv:tab label="{string_phrase($list{label_phrase_id})}">
          <epc:print expr="$list{content}"/>
        </epv:tab>
      </epc:foreach>
    </epv:tabs>
  </epp:phrase>
  <epp:phrase id="view:EPrints/XHTML:action_definition_list">
    <dl class="ep_action_list" id="{id}" role="menu">
      <epc:foreach expr="list" iterator="listitem">
        <epv:create_data_element tag="dt" expr="$listitem{action}" role="menuitem" aria-describedby="ep_{id}_desc_{$index}"/>
        <epv:create_data_element tag="dd" expr="$listitem{definition}" id="ep_{id}_desc_{$index}" role="none"/>
      </epc:foreach>
    </dl>
  </epp:phrase>
  <epp:phrase id="view:MetaField:render_search_input">
    <epc:if test="match != 'EX'">
      <epv:render_option_list name="{form_prefix}_merge" aria-labelledby="{text_options{labelled_by}}" values="text_options{values}" labels="text_options{labels}" default="{text_options{default}"/>
    </epc:if>
    <epv:render_input_field type="text" name="{form_prefix}" value="{value}" maxlength="256" size="{size}" class="form-control" aria-labelledby="{form_prefix}_label" opts="opts"/>
    <epc:if test="match != prop_match">
      <epv:render_hidden_field name="{form_prefix}_match" value="{match}"/>
    </epc:if>
  </epp:phrase>
  <epp:phrase id="view:MetaField:Date:render_search_input">
    <epv:render_input_field type="{type}" name="{name}" value="{value}" maxlength="{maxlength}" size="{size}" class="form-control" aria-labelledby="{aria-labelledby}"/>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Plugin/Screen/AbstractSearch:render_search_form">
    <epv:form method="get" action="{current_url()}">
      <epc:print expr="hidden_bits"/>
      <epc:print expr="preamble"/>
      <epc:print expr="controls"/>
      <div class="container-fluid p-0">
        <epc:print expr="search_fields"/>
        <epc:print expr="anyall_field"/>
        <epc:print expr="order_field"/>
        <epc:if test="is_staff">
          <epc:print expr="show_hidden"/>
        </epc:if>
      </div>
      <epc:print expr="controls"/>
    </epv:form>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Plugin/Screen/AbstractSearch:render_controls">
    <div class="d-flex justify-content-center p-3">
      <epc:print expr="action_buttons"/>
    </div>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Plugin/Screen/AbstractSearch:render_search_fields">
    <epc:foreach expr="fields" iterator="field">
      <epv:render_row_with_help prefix="{$field{prefix}}{if ($field{is_checkbox_set}, '_legend', '')}" help_prefix="{$field{prefix}}_help" context="type_{$field{field_type}}" no_toggle="{$field{no_toggle}}" no_help="{$field{no_help}}">
        <epv:label>
          <epc:print expr="$field{name}"/>
        </epv:label>
        <epv:field>
          <epc:print expr="$field{field}"/>
        </epv:field>
        <epv:help>
          <epc:print expr="$field{help}"/>
        </epv:help>
      </epv:render_row_with_help>
    </epc:foreach>
  </epp:phrase>
  <epp:phrase id="view:DataObj/Document:render_icon_link">
    <div class="ep_preview_container">
      <epc:choose>
        <epc:when test="with_link">
          <a class="ep_document_link" href="{url}">
            <epc:if test="new_window">
              <epc:attribute name="target">_blank</epc:attribute>
            </epc:if>
            <img class="ep_doc_icon" alt="[thumbnail of {img_alt}]" title="{img_alt}" src="{icon_url}" border="0"/>
          </a>
        </epc:when>
        <epc:otherwise>
          <img class="ep_doc_icon" alt="[thumbnail of {img_alt}]" title="{img_alt}" src="{icon_url}" border="0"/>
        </epc:otherwise>
      </epc:choose>
      <epc:if test="preview">
        <div class="ep_preview {if(preview_left, 'ep_preview_left')}">
          <div>
            <img class="ep_preview_image" alt="" src="{preview_url}" border="0"/>
            <div class="ep_preview_title">
              <epc:phrase ref="lib/document:preview"/>
            </div>
          </div>
        </div>
      </epc:if>
    </div>
  </epp:phrase>
  <epp:phrase id="Plugin/Screen/Listing:add_label">Add Column</epp:phrase>
  <epp:phrase id="view:EPrints/Repository:render_button">
    <input>
      <epc:attribute name="class">
        <epc:if test="stage">
          <epc:if test="selected">
            <epc:print expr="'btn btn-primary'"/>
          </epc:if>
          <epc:if test="!selected">
            <epc:print expr="'btn btn-outline-primary'"/>
          </epc:if>
        </epc:if>
        <epc:if test="!stage">
          <epc:print expr="'btn btn-primary btn-sm m-1'"/>
        </epc:if>
      </epc:attribute>
      <epc:foreach expr="opts" iterator="attr">
        <epc:attribute name="{$attr{name}}">
          <epc:print expr="$attr{value}"/>
        </epc:attribute>
      </epc:foreach>
    </input>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Repository:render_buttons_aux">
    <div class="p-3 w-100 d-flex justify-content-center">
      <div>
        <epc:attribute name="class">
          <epc:print expr="''"/>
        </epc:attribute>
        <epc:foreach expr="buttons" iterator="button">
          <epc:print expr="$button{button}"/>
        </epc:foreach>
      </div>
    </div>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Plugin/Screen/EPrint:render_blister">
    <div class="">
      <div class="d-flex m-auto justify-content-center">
        <epc:foreach expr="stages" iterator="stage">
          <epc:if test="!$stage{first}">
            <div class="my-auto px-1">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8"/>
              </svg>
            </div>
          </epc:if>
          <epc:print expr="$stage{stage}"/>
        </epc:foreach>
      </div>
    </div>
  </epp:phrase>
  <epp:phrase id="lib/searchexpression:export_section">
    <div class="accordion mb-4" id="accordionExport">
      <div class="accordion-item">
        <button class="accordion-button bg-light" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExport" aria-expanded="false" aria-controls="collapseExport">
          <h6 id="exportOptions" class="m-0">
            <strong>
              <epc:phrase ref="lib/searchexpression:export_section:title"/>
            </strong>
          </h6>
        </button>
        <div id="collapseExport" class="accordion-collapse collapse" aria-labelledby="exportOptions" data-bs-parent="#accordionExport">
          <div class="accordion-body">
            <div class="accordion-collapse collapse show m-0 d-flex justify-content-start" role="toolbar">
              <epc:if test="menu">
                <div class="accordion-body border rounded p-2 ps-3 me-2">
                  <form action="" accept-charset="utf-8" method="get">
                    <label for="search-export-output">Export <epc:print expr="count"/> results as </label>
                    <epc:print expr="menu"/>
                    <epc:print expr="button"/>
                  </form>
                </div>
              </epc:if>
              <epc:if test="tools">
                <div class="border rounded p-2 pe-3 me-2 m-0 d-flex align-items-center" role="toolbar">
                  <epc:print expr="tools"/>
                </div>
              </epc:if>
              <epc:if test="feeds">
                <div class="border rounded p-2 me-2 d-flex align-items-center">
                  <epc:print expr="feeds"/>
                </div>
              </epc:if>
            </div>
          </div>
        </div>
      </div>
    </div>
  </epp:phrase>
  <epp:phrase id="view:EPrints/Plugin/Screen/Search:render_simple_form">
    <div class="border p-3 rounded bg-light">
      <form class="row g-3 justify-content-center" action="/cgi/search/simple" accept-charset="utf-8" method="get">
        <input value="Search" type="hidden" name="screen" id="screen"/>
        <input value="archive" name="dataset" type="hidden" id="dataset"/>
        <input id="order" type="hidden" name="order"/>
        <div class="col-auto">
          <input class="form-control" type="text" name="q" size="60" aria-labelledby="{action_search}" value="{search_value}"/>
        </div>
        <div class="col-auto">
          <input name="_action_search" type="submit" id="{action_search}" value="{action_search}" role="button" class="btn btn-primary"/>
        </div>
        <div class="col-auto">
          <input value="{advanced_link}" role="button" class="btn btn-outline-primary" name="_action_advanced" type="submit"/>
        </div>
      </form>
    </div>
  </epp:phrase>
  <epp:phrase id="view:EPrints/ScreenProcessor:render_messages">
    <div class="ep_messages">
      <epc:foreach expr="dom_messages" iterator="dom_message">
        <epc:print expr="$dom_message{message}"/>
      </epc:foreach>
    </div>
  </epp:phrase>
  <epp:phrase id="view:perl_lib/EPrints/Plugin/InputForm/Surround/Default:render">
    <div class="mb-3 bg-light bg-opacity-10 border rounded shadow-sm" id="{prefix}">
      <a name="{prefix}"/>
      <epc:foreach expr="handled_fields" iterator="handled_field">
        <epc:print expr="$handled_field{handled_field}"/>
      </epc:foreach>
      <div id="{title_bar{id}}" class="p-2 bg-white rounded {title_bar{class}}">
        <epc:if test="!has_help">
          <div id="{title_div{id}}" class="ep_sr_title">
            <epc:choose>
              <epc:when test="is_collapsed">
                <a onclick="EPJS_toggleSlideScroll('{contentid}',false,'{main_id}');EPJS_toggle('{colbarid}',true);EPJS_toggle('{barid}',false);return false" class="ep_only_js ep_toggle ep_sr_collapse_link">
                  <img alt="+" src="/style/images/minus.svg" border="0">
                    <epc:print expr="col_link{render_title}"/>
                  </img>
                </a>
                <div class="ep_no_js">
                  <epc:print expr="col_link{render_title}"/>
                </div>
              </epc:when>
              <epc:otherwise>
                <epc:print expr="render_title"/>
              </epc:otherwise>
            </epc:choose>
          </div>
        </epc:if>
        <epc:if test="!no_toggle and has_help">
          <div class="">
            <div class="d-flex justify-content-between">
              <div>
                <div id="{title_div{id}}" class="">
                  <epc:choose>
                    <epc:when test="is_collapsed">
                      <a onclick="EPJS_toggleSlideScroll('{col_link{contentid}}',false,'{col_link{main_id}}');EPJS_toggle('{col_link{colbarid}}',true);EPJS_toggle('{col_link{barid}}',false);return false" class="ep_only_js ep_toggle ep_sr_collapse_link text-black">
                        <img alt="+" src="/style/images/minus.svg" style="margin-right: 5px;" border="0">
                          <epc:print expr="col_link{render_title}"/>
                        </img>
                      </a>
                      <div class="ep_no_js">
                        <epc:print expr="col_link{render_title}"/>
                      </div>
                    </epc:when>
                    <epc:otherwise>
                      <epc:print expr="render_title"/>
                    </epc:otherwise>
                  </epc:choose>
                </div>
              </div>
              <div align="right">
                <div class="ep_only_js">
                  <div class="ep_sr_show_help ep_toggle" id="{help_item{prefix}}_show">
                    <a href="#" onclick="EPJS_toggleSlide('{help_item{prefix}}',false);EPJS_toggle('{help_item{prefix}}_hide',false);EPJS_toggle('{help_item{prefix}}_show',true);return false">
                      <img border="0" src="/style/images/help.svg" title="Show help" alt="?"/>
                    </a>
                  </div>
                  <div class="ep_sr_hide_help ep_toggle ep_hide" id="{help_item{prefix}}_hide">
                    <a href="#" onclick="EPJS_toggleSlide('{help_item{prefix}}',false);EPJS_toggle('{help_item{prefix}}_hide',false);EPJS_toggle('{help_item{prefix}}_show',true);return false">
                      <img border="0" src="/style/images/minus.svg" title="Hide help" alt="-"/>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </epc:if>
      </div>
      <epc:if test="is_collapsed">
        <div class="p-2 bg-white rounded ep_only_js ep_toggle" id="{col_div{id}}">
          <a class="ep_sr_collapse_link text-black" onclick="EPJS_toggleSlideScroll('{col_link{contentid}}',false,'{col_link{main_id}}');EPJS_toggle('{col_link{colbarid}}',true);EPJS_toggle('{col_link{barid}}',false);return false">
            <img alt="+" src="/style/images/plus.svg" style="margin-right: 5px;" border="0">
              <epc:print expr="col_link{render_title}"/>
            </img>
          </a>
        </div>
      </epc:if>
      <div id="{prefix}_content" class="{content{class}} bg-white p-2 rounded">
        <div id="{content_inner{id}}">
          <epc:if test="has_help">
            <div id="{help_item{prefix}}" class="{help_item{hide_class}}">
              <div id="{help_item{prefix}}_inner" class="p-2 alert alert-info">
                <epc:print expr="help_item{render_help}"/>
              </div>
            </div>
          </epc:if>
          <div id="{ajax_content_target{id}}">
            <epc:print expr="contents"/>
          </div>
        </div>
      </div>
    </div>
  </epp:phrase>
  <epp:phrase id="view:MetaField/LongText:get_basic_input_elements">
    <textarea aria-describedby="{if (aria-describedby, aria-describedby, '')}" class="w-100 form-control" wrap="{wrap}" cols="{cols}" aria-labelledby="{aria-labelledby}" name="{name}" rows="{rows}" id="{id}">
      <epc:print expr="value"/>
    </textarea>
  </epp:phrase>
  <epp:phrase id="view:MetaField:get_input_elements:multiple:row_label">
    <span id="{id}"><epc:print expr="index"/>. </span>
  </epp:phrase>
  <epp:phrase id="view:MetaField:get_input_elements:multiple:arrows">
    <input type="image" alt="down" title="move down" src="{arrow_down{src}}" name="{arrow_down{name}}" class="epjs_ajax" value="1"/>
    <epc:if test="arrow_up">
      <input type="image" alt="up" title="move up" src="{arrow_up{src}}" name="{arrow_up{name}}" class="epjs_ajax ms-1" value="1"/>
    </epc:if>
  </epp:phrase>
  <epp:phrase id="view:EPrints/XHTML:input_field">
    <input name="{name}" value="{value}">
      <epc:foreach expr="opts" iterator="opt">
        <epc:attribute name="{$opt{key}}">
          <epc:print expr="$opt{value}"/>
        </epc:attribute>
      </epc:foreach>
    </input>
  </epp:phrase>
  <epp:phrase id="view:Plugin/InputForm/Component/Documents:_render_doc_div">
    <div class="border p-3 rounded mb-3 shadow ep_upload_doc" id="{doc_prefix}_block">
      <a name="{doc_prefix}">
                </a>
      <epc:print expr="hidden_field"/>
      <div class="ep_upload_doc_title_bar">
        <div class="">
          <div class="d-flex justify-content-between">
            <div class="ep_upload_doc_title_bar_inner_left">
              <epc:print expr="doc_icon_info"/>
            </div>
            <div class="ep_upload_doc_actions">
              <epc:print expr="doc_actions"/>
            </div>
          </div>
        </div>
      </div>
      <div class="ep_upload_doc_expansion_bar ep_only_js p-2 mt-2 border-top">
        <a class="d-flex text-black" onclick="EPJS_toggleSlideScroll('{doc_prefix}_opts',{if(hide, 'false', 'true')},'{doc_prefix}_block');EPJS_toggle('{doc_prefix}_opts_hide',{if(hide, 'false', 'true')},'block');EPJS_toggle('{doc_prefix}_opts_show',{if (hide, 'true','false')},'block');return false">
          <div id="{doc_prefix}_opts_show" class="ep_update_doc_options ms-auto {if (hide, '','ep_hide')}">
            <label for="{doc_prefix}_opts_show" class="p-1">
              <epc:print expr="show_label"/>
            </label>
            <input class="align-middle ms-1" type="image" src="{imagesurl}/style/images/plus.svg" alt="+" id="{doc_prefix}_opts_show"/>
          </div>
          <div id="{doc_prefix}_opts_hide" class="ep_update_doc_options ms-auto {if (hide, 'ep_hide', '')}">
            <label for="{doc_prefix}_opts_hide">
              <epc:print expr="hide_label"/>
            </label>
            <input class="align-middle ms-1" type="image" src="{imagesurl}/style/images/minus.svg" alt="-" id="{doc_prefix}_opts_hide"/>
          </div>
        </a>
      </div>
      <div class="ep_upload_doc_content {if (hide, 'ep_no_js', '')}" id="{doc_prefix}_opts">
        <div class="" id="{doc_prefix}_opts_inner">
          <epc:print expr="doc_metadata"/>
        </div>
      </div>
    </div>
  </epp:phrase>
  <epp:phrase id="view:Plugin/InputForm/Component/Documents:_render_doc_actions">
    <div class="ep_upload_doc_actions_inner">
      <div class="">
        <epc:foreach expr="actions" iterator="action">
          <input class="ms-2" name="{$action{name}}" src="{$action{src}}" title="{$action{title}}" alt="{$action{title}}" value="{$action{title}}" rel="{$action{rel}}"/>
        </epc:foreach>
      </div>
    </div>
  </epp:phrase>
  <!-- This is used by 'Template Tests' to check it handles basic text entry -->
  <epp:phrase id="view:basic_test">
    Text only test entry.
  </epp:phrase>
</epp:phrases>
